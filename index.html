<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>–ê–Ω–∞—Ä—Ö–∏—è —Ä—É–∏–Ω ‚Äî –∫–∞—Ä—Ç–∞ –∑–∞–±—Ä–æ—à–µ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤</title>

  <!-- Leaflet -->
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin=""
  />
  <script
    src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
    crossorigin=""
    defer
  ></script>

  <!-- Leaflet Routing Machine -->
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.css"
  />
  <script
    src="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.js"
    defer
  ></script>

  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
<header class="app-header">
  <div class="brand">
    <span>üèöÔ∏è –ê–Ω–∞—Ä—Ö–∏—è —Ä—É–∏–Ω</span>
  </div>
  <nav class="nav-actions">
    <a href="./admin.html" id="adminLink" class="hidden">–ú–æ–¥–µ—Ä–∞—Ü–∏—è</a>

    <button id="openFavorites" class="secondary">
      ‚òÖ –ò–∑–±—Ä–∞–Ω–Ω–æ–µ <span id="favoritesCount" class="badge" style="display:none">0</span>
    </button>

    <button id="loginBtn">–í–æ–π—Ç–∏</button>
    <button id="logoutBtn" class="hidden">–í—ã–π—Ç–∏</button>
    <div id="userInfo" class="user-info hidden">
      <img id="userAvatar" alt="user" />
      <div>
        <div id="userName"></div>
        <div class="uid-line">UID: <span id="userUid"></span></div>
      </div>
    </div>
  </nav>
</header>

<main class="layout">
  <aside class="sidebar">
    <section class="panel">
      <button id="addPlaceBtn" class="primary">+ –î–æ–±–∞–≤–∏—Ç—å –æ–±—ä–µ–∫—Ç</button>

      <div class="divider"></div>

      <div class="filter-block">
        <label><input type="checkbox" id="toggleOSM"> –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç—ã –∏–∑ OSM</label>
        <small>–û—Å—Ç–æ—Ä–æ–∂–Ω–æ: –æ—Ç–∫—Ä—ã—Ç—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –Ω–µ—Ç–æ—á–Ω–æ—Å—Ç–∏; –∑–∞–≥—Ä—É–∑–∫–∞ –ø–æ –æ–±–ª–∞—Å—Ç–∏ –∫–∞—Ä—Ç—ã.</small>
      </div>

      <div class="filter-block">
        <label>–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å:</label>
        <select id="filterAccess">
          <option value="">–í—Å–µ</option>
          <option value="open">–û—Ç–∫—Ä—ã—Ç–æ</option>
          <option value="partial">–ß–∞—Å—Ç–∏—á–Ω–æ</option>
          <option value="closed">–ó–∞–∫—Ä—ã—Ç–æ</option>
        </select>
      </div>

      <div class="filter-block">
        <label>–û—Ö—Ä–∞–Ω–∞:</label>
        <select id="filterSecurity">
          <option value="">–õ—é–±–∞—è</option>
          <option value="none">–ù–µ—Ç</option>
          <option value="low">–ù–∏–∑–∫–∞—è</option>
          <option value="medium">–°—Ä–µ–¥–Ω—è—è</option>
          <option value="high">–í—ã—Å–æ–∫–∞—è</option>
        </select>
      </div>

      <div class="filter-block">
        <label><input type="checkbox" id="onlyFavorites"> –¢–æ–ª—å–∫–æ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ</label>
      </div>

      <div class="divider"></div>

      <div class="search-block">
        <input type="text" id="searchInput" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é/–æ–ø–∏—Å–∞–Ω–∏—é..." />
      </div>

      <div id="placesList" class="places-list"></div>
    </section>

    <section class="panel">
      <h3>–ü–∞–º—è—Ç–∫–∞</h3>
      <ul class="note">
        <li>–°–æ–±–ª—é–¥–∞–π—Ç–µ –∑–∞–∫–æ–Ω –∏ –ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.</li>
        <li>–ù–µ –Ω–∞—Ä—É—à–∞–π—Ç–µ —á–∞—Å—Ç–Ω—É—é —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å.</li>
        <li>–ú–∞—Ä—à—Ä—É—Ç—ã ‚Äî —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è (OSRM demo).</li>
      </ul>
    </section>
  </aside>

  <section class="map-section">
    <div id="map"></div>
  </section>
</main>

<!-- –ú–æ–¥–∞–ª–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ -->
<div class="modal-overlay hidden" id="modalAdd">
  <div class="modal">
    <div class="modal-header">
      <h3>–î–æ–±–∞–≤–∏—Ç—å –æ–±—ä–µ–∫—Ç</h3>
      <button class="icon-btn" id="closeModalAdd">‚úñ</button>
    </div>
    <div class="modal-body">
      <form id="addPlaceForm">
        <label>–ù–∞–∑–≤–∞–Ω–∏–µ
          <input type="text" id="placeName" required maxlength="120" />
        </label>

        <label>–û–ø–∏—Å–∞–Ω–∏–µ
          <textarea id="placeDescription" rows="3" maxlength="2000"></textarea>
        </label>

        <div class="row">
          <label>–û—Ö—Ä–∞–Ω–∞
            <select id="placeSecurity">
              <option value="none">–ù–µ—Ç</option>
              <option value="low">–ù–∏–∑–∫–∞—è</option>
              <option value="medium">–°—Ä–µ–¥–Ω—è—è</option>
              <option value="high">–í—ã—Å–æ–∫–∞—è</option>
            </select>
          </label>
          <label>–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
            <select id="placeAccess">
              <option value="open">–û—Ç–∫—Ä—ã—Ç–æ</option>
              <option value="partial">–ß–∞—Å—Ç–∏—á–Ω–æ</option>
              <option value="closed">–ó–∞–∫—Ä—ã—Ç–æ</option>
            </select>
          </label>
        </div>

        <label>–ü–æ–ª–µ–∑–Ω—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)
          <input type="text" id="placeLoot" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä: –º–µ—Ç–∞–ª–ª, –∫–∞–±–µ–ª—å, –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã" />
        </label>

        <div class="row">
          <label>–®–∏—Ä–æ—Ç–∞
            <input type="number" id="placeLat" step="any" required />
          </label>
          <label>–î–æ–ª–≥–æ—Ç–∞
            <input type="number" id="placeLng" step="any" required />
          </label>
        </div>
        <small>–ü–æ–¥—Å–∫–∞–∑–∫–∞: –∫–ª–∏–∫–Ω–∏—Ç–µ –ø–æ –∫–∞—Ä—Ç–µ ‚Äî –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –ø–æ–¥—Å—Ç–∞–≤—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.</small>

        <div class="form-actions">
          <button type="submit" class="primary">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é</button>
          <button type="button" id="cancelAdd">–û—Ç–º–µ–Ω–∞</button>
        </div>
      </form>
      <div id="addStatus" class="status"></div>
    </div>
  </div>
</div>

<!-- –ú–æ–¥–∞–ª–∫–∞ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ -->
<div class="modal-overlay hidden" id="favoritesModal">
  <div class="modal" style="min-width:320px;max-width:680px">
    <div class="modal-header">
      <h3>–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</h3>
      <button class="icon-btn" id="closeFavorites">‚úñ</button>
    </div>
    <div class="modal-body">
      <div class="fav-section">
        <h4>–ú–µ—Å—Ç–∞</h4>
        <div id="favoritesPlacesList" class="list"></div>
      </div>

      <div class="fav-section" style="margin-top:12px">
        <h4>OSM</h4>
        <div id="favoritesOsmList" class="list"></div>
      </div>
    </div>
  </div>
</div>

<script type="module" src="./app.js"></script>
</body>
</html>
